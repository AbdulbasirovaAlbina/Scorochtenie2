# Система напоминаний о занятиях

## Что добавлено

### 1. Ежедневные напоминания
- **Автоматические уведомления** каждый день в выбранное время
- **Настраиваемое время** - пользователь может выбрать удобное время
- **Переключатель включения/выключения** - легко управлять напоминаниями
- **Персистентность** - настройки сохраняются между запусками приложения

### 2. Уведомления
- **Красивые уведомления** с иконкой и описанием
- **Клик по уведомлению** открывает приложение
- **Автоматическое исчезновение** после клика
- **Канал уведомлений** для Android 8.0+

### 3. Настройки в приложении
- **Секция в настройках** с переключателем и выбором времени
- **TimePickerDialog** для удобного выбора времени
- **Форматированное отображение** времени (12-часовой формат)
- **Валидация времени** - если время прошло, напоминание устанавливается на завтра

## Файлы, которые были созданы

### Новые файлы:
- `ReminderService.kt` - сервис для управления напоминаниями
- `ReminderManager.kt` - менеджер настроек напоминаний
- `item_reminder_setting.xml` - макет настроек напоминаний
- `ic_notification.xml` - иконка для уведомлений
- `ic_time.xml` - иконка для времени

### Измененные файлы:
- `SettingsFragment.kt` - добавлена логика настроек напоминаний
- `fragment_settings.xml` - добавлен макет настроек напоминаний
- `AndroidManifest.xml` - добавлены разрешения и регистрация сервиса
- `MainActivity.kt` - создание канала уведомлений при запуске

## Как это работает

### 1. Установка напоминания:
1. Пользователь включает переключатель в настройках
2. Выбирает время через TimePickerDialog
3. `ReminderManager` сохраняет настройки
4. `ReminderService.scheduleReminder()` устанавливает AlarmManager
5. Система Android планирует уведомление

### 2. Показ уведомления:
1. В назначенное время срабатывает AlarmManager
2. Вызывается `ReminderService.onReceive()`
3. Создается и показывается уведомление
4. Планируется следующее напоминание на завтра

### 3. Управление настройками:
- **Включение/выключение**: Переключатель в настройках
- **Изменение времени**: Клик по времени открывает TimePickerDialog
- **Сохранение**: Все настройки сохраняются в SharedPreferences
- **Восстановление**: При запуске приложения настройки загружаются

## Разрешения

### Android 13+ (API 33+):
- `POST_NOTIFICATIONS` - для показа уведомлений

### Все версии Android:
- `SCHEDULE_EXACT_ALARM` - для точного планирования времени
- `USE_EXACT_ALARM` - для использования точных будильников

## Особенности реализации

### AlarmManager:
- **Точное время**: Используется RTC_WAKEUP для точного времени
- **Повторение**: Ежедневное повторение через INTERVAL_DAY
- **Автоматическое обновление**: Если время прошло, устанавливается на завтра

### Уведомления:
- **Канал**: Создается при первом запуске приложения
- **Приоритет**: PRIORITY_DEFAULT для стандартных уведомлений
- **Интерактивность**: Клик открывает MainActivity

### Настройки:
- **SharedPreferences**: Сохранение настроек между сессиями
- **Валидация**: Проверка корректности времени
- **Синхронизация**: Автоматическое обновление при изменении настроек

## Возможности для улучшения

1. **Несколько напоминаний** - возможность установить несколько времени в день
2. **Дни недели** - выбор конкретных дней для напоминаний
3. **Звуки и вибрация** - настройка способа оповещения
4. **Кастомные сообщения** - пользователь может написать свое напоминание
5. **Статистика напоминаний** - отслеживание эффективности
6. **Интеграция с календарем** - синхронизация с системным календарем

## Примечания

- **Тестирование**: Напоминания работают только на реальном устройстве
- **Эмулятор**: AlarmManager может работать нестабильно в эмуляторе
- **Оптимизация батареи**: Некоторые устройства могут ограничивать работу AlarmManager
- **Версии Android**: Полная поддержка Android 6.0+ (API 23+)
- **Разрешения**: Пользователь должен разрешить уведомления в настройках системы

## Использование

1. Откройте **Настройки** в приложении
2. Найдите секцию **"Напоминания о занятиях"**
3. Включите переключатель **"Ежедневные напоминания"**
4. Нажмите на время для выбора удобного часа
5. Готово! Теперь вы будете получать напоминания каждый день

Система автоматически:
- Сохранит ваши настройки
- Установит напоминание на выбранное время
- Будет показывать уведомления каждый день
- Обновит расписание при изменении настроек



